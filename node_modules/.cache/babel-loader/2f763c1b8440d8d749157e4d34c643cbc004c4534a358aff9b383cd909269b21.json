{"ast":null,"code":"import React from\"react\";import Navbar from\"../../components/Navbar/Navbar\";import style from\"./Home.module.css\";import Cards from\"../../components/Cards/Cards\";import FilterByTemperaments from\"../../components/Filter/Filter\";import Pagination from\"../../components/Pagination/Pagination\";import{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{allBreed,addTemperaments,setCurrentPage}from\"../../redux/actions\";import Order from\"../../components/Order/Order\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const dispatch=useDispatch();const temperament=useSelector(state=>state.temperament);const allDogs=useSelector(state=>state.dog);// Obtener todos los perros sin filtrar\nconst[selectedTemperament,setSelectedTemperament]=useState(\"all\");const[selectedCreated,setSelectedCreated]=useState(\"all\");const[,setOrder]=useState(\"\");// const [currentPage, setCurrentPage] = useState(1);\nconst currentPage=useSelector(state=>state.currentPage);const dogsPerPage=8;const totalPages=Math.ceil(allDogs.length/dogsPerPage);// const totalPages = allDogs.length > 0 ? Math.ceil(allDogs.length / dogsPerPage) : 1;      \nuseEffect(()=>{dispatch(allBreed());dispatch(addTemperaments());},[dispatch]);// Filtrar los perros en función de los estados locales de temperamento y procedencia\nconst filteredDogs=allDogs.filter(dog=>{var _dog$temperament;const filterByTemperament=// variable booleana que almacena el resultado de la comparacion \nselectedTemperament===\"all\"||(//entre le temperamento seleccionado all o \n(_dog$temperament=dog.temperament)===null||_dog$temperament===void 0?void 0:_dog$temperament.includes(selectedTemperament));// si el temperamento del perro incluye el temperamento sleccionado si cualquiera de estas condiciones es verdadera filterByTemperament sera verdadero\nconst filterByCreated=selectedCreated===\"all\"||// si se cumple esta condicion el filtro es exitoso\nselectedCreated===\"created\"&&dog.createdInDB||// verifica si el perro fue creado en la DB\nselectedCreated===\"api\"&&!dog.createdInDB;// verifico si el perro viene de la API\nreturn filterByTemperament&&filterByCreated;// si el perro cumple con estas condiciones ser agregado el filterdDogs\n});const handlePageChange=page=>{dispatch(setCurrentPage(page));setCurrentPage(1);// Reiniciar currentPage al hacer la búsqueda\n};const getPageDogs=()=>{const startIndex=(currentPage-1)*dogsPerPage;const endIndex=startIndex+dogsPerPage;console.log(\"Start Index:\",startIndex);console.log(\"End Index:\",endIndex);return filteredDogs.slice(startIndex,endIndex);};return/*#__PURE__*/_jsxs(\"div\",{className:style.fondo,children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"h1\",{children:\"Home\"}),/*#__PURE__*/_jsx(FilterByTemperaments,{temperament:temperament,selectedTemperament:selectedTemperament,setSelectedTemperament:setSelectedTemperament,selectedCreated:selectedCreated,setSelectedCreated:setSelectedCreated}),/*#__PURE__*/_jsx(Order,{setOrder:setOrder}),/*#__PURE__*/_jsx(Cards,{dogs:getPageDogs()}),/*#__PURE__*/_jsx(Pagination,{currentPage:currentPage,totalPages:totalPages,onPageChange:handlePageChange})]});};export default Home;","map":{"version":3,"names":["React","Navbar","style","Cards","FilterByTemperaments","Pagination","useEffect","useState","useDispatch","useSelector","allBreed","addTemperaments","setCurrentPage","Order","jsx","_jsx","jsxs","_jsxs","Home","dispatch","temperament","state","allDogs","dog","selectedTemperament","setSelectedTemperament","selectedCreated","setSelectedCreated","setOrder","currentPage","dogsPerPage","totalPages","Math","ceil","length","filteredDogs","filter","_dog$temperament","filterByTemperament","includes","filterByCreated","createdInDB","handlePageChange","page","getPageDogs","startIndex","endIndex","console","log","slice","className","fondo","children","dogs","onPageChange"],"sources":["C:/Users/Usuario/Desktop/Workspace/PI-DOGS-DEPLOY/client/src/views/Home/Home.jsx"],"sourcesContent":["import React from \"react\";\r\nimport Navbar from \"../../components/Navbar/Navbar\"\r\nimport style from \"./Home.module.css\";\r\nimport Cards from \"../../components/Cards/Cards\";\r\nimport FilterByTemperaments from \"../../components/Filter/Filter\";\r\nimport Pagination from \"../../components/Pagination/Pagination\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { allBreed, addTemperaments, setCurrentPage } from \"../../redux/actions\";\r\nimport Order from \"../../components/Order/Order\";\r\n\r\n\r\nconst Home = () => {\r\n    const dispatch = useDispatch();\r\n    const temperament = useSelector((state) => state.temperament);\r\n    const allDogs = useSelector((state) => state.dog); // Obtener todos los perros sin filtrar\r\n    const [selectedTemperament, setSelectedTemperament] = useState(\"all\");\r\n    const [selectedCreated, setSelectedCreated] = useState(\"all\");\r\n    const [, setOrder] = useState(\"\");\r\n    // const [currentPage, setCurrentPage] = useState(1);\r\n    const currentPage = useSelector((state) => state.currentPage);\r\n    const dogsPerPage = 8;\r\n    const totalPages = Math.ceil(allDogs.length / dogsPerPage);\r\n    // const totalPages = allDogs.length > 0 ? Math.ceil(allDogs.length / dogsPerPage) : 1;      \r\n\r\n    useEffect(() => {\r\n        dispatch(allBreed());\r\n        dispatch(addTemperaments())\r\n    }, [dispatch])\r\n\r\n    // Filtrar los perros en función de los estados locales de temperamento y procedencia\r\n    const filteredDogs = allDogs.filter((dog) => {\r\n        const filterByTemperament = // variable booleana que almacena el resultado de la comparacion \r\n            selectedTemperament === \"all\" || //entre le temperamento seleccionado all o \r\n            dog.temperament?.includes(selectedTemperament); // si el temperamento del perro incluye el temperamento sleccionado si cualquiera de estas condiciones es verdadera filterByTemperament sera verdadero\r\n        const filterByCreated =\r\n            selectedCreated === \"all\" || // si se cumple esta condicion el filtro es exitoso\r\n            (selectedCreated === \"created\" && dog.createdInDB) || // verifica si el perro fue creado en la DB\r\n            (selectedCreated === \"api\" && !dog.createdInDB); // verifico si el perro viene de la API\r\n\r\n        return filterByTemperament && filterByCreated; // si el perro cumple con estas condiciones ser agregado el filterdDogs\r\n    });\r\n\r\n\r\n    const handlePageChange = (page) => {\r\n        dispatch(setCurrentPage(page));\r\n        setCurrentPage(1); // Reiniciar currentPage al hacer la búsqueda\r\n    };\r\n\r\n    const getPageDogs = () => {\r\n        const startIndex = (currentPage - 1) * dogsPerPage;\r\n        const endIndex = startIndex + dogsPerPage;\r\n        console.log(\"Start Index:\", startIndex);\r\n        console.log(\"End Index:\", endIndex);\r\n        return filteredDogs.slice(startIndex, endIndex);\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={style.fondo}>\r\n            <Navbar />\r\n            <h1>Home</h1>\r\n            <FilterByTemperaments\r\n                temperament={temperament}\r\n                selectedTemperament={selectedTemperament}\r\n                setSelectedTemperament={setSelectedTemperament}\r\n                selectedCreated={selectedCreated}\r\n                setSelectedCreated={setSelectedCreated} />\r\n            <Order setOrder={setOrder} />\r\n            <Cards dogs={getPageDogs()} />\r\n            <Pagination\r\n                currentPage={currentPage}\r\n                totalPages={totalPages}\r\n                onPageChange={handlePageChange}\r\n            />\r\n        </div>\r\n    )\r\n}\r\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}