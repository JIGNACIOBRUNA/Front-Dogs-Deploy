{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Desktop\\\\Workspace\\\\PI-DOGS-DEPLOY\\\\client\\\\src\\\\views\\\\Home\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport Navbar from \"../../components/Navbar/Navbar\";\nimport style from \"./Home.module.css\";\nimport Cards from \"../../components/Cards/Cards\";\nimport FilterByTemperaments from \"../../components/Filter/Filter\";\nimport Pagination from \"../../components/Pagination/Pagination\";\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { allBreed, addTemperaments, setCurrentPage } from \"../../redux/actions\";\nimport Order from \"../../components/Order/Order\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const dispatch = useDispatch();\n  const temperament = useSelector(state => state.temperament);\n  const allDogs = useSelector(state => state.dog); // Obtener todos los perros sin filtrar\n  const [selectedTemperament, setSelectedTemperament] = useState(\"all\");\n  const [selectedCreated, setSelectedCreated] = useState(\"all\");\n  const [, setOrder] = useState(\"\");\n  // const [currentPage, setCurrentPage] = useState(1);\n  const currentPage = useSelector(state => state.currentPage);\n  const dogsPerPage = 8;\n  const totalPages = Math.ceil(allDogs.length / dogsPerPage);\n  // const totalPages = allDogs.length > 0 ? Math.ceil(allDogs.length / dogsPerPage) : 1;      \n\n  useEffect(() => {\n    dispatch(allBreed());\n    dispatch(addTemperaments());\n  }, [dispatch]);\n\n  // Filtrar los perros en función de los estados locales de temperamento y procedencia\n  const filteredDogs = allDogs.filter(dog => {\n    var _dog$temperament;\n    const filterByTemperament =\n    // variable booleana que almacena el resultado de la comparacion \n    selectedTemperament === \"all\" || ( //entre le temperamento seleccionado all o \n    (_dog$temperament = dog.temperament) === null || _dog$temperament === void 0 ? void 0 : _dog$temperament.includes(selectedTemperament)); // si el temperamento del perro incluye el temperamento sleccionado si cualquiera de estas condiciones es verdadera filterByTemperament sera verdadero\n    const filterByCreated = selectedCreated === \"all\" ||\n    // si se cumple esta condicion el filtro es exitoso\n    selectedCreated === \"created\" && dog.createdInDB ||\n    // verifica si el perro fue creado en la DB\n    selectedCreated === \"api\" && !dog.createdInDB; // verifico si el perro viene de la API\n\n    return filterByTemperament && filterByCreated; // si el perro cumple con estas condiciones ser agregado el filterdDogs\n  });\n  const handlePageChange = page => {\n    dispatch(setCurrentPage(page));\n    setCurrentPage(1); // Reiniciar currentPage al hacer la búsqueda\n  };\n  const getPageDogs = () => {\n    const startIndex = (currentPage - 1) * dogsPerPage;\n    const endIndex = startIndex + dogsPerPage;\n    console.log(\"Start Index:\", startIndex);\n    console.log(\"End Index:\", endIndex);\n    return filteredDogs.slice(startIndex, endIndex);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.fondo,\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FilterByTemperaments, {\n      temperament: temperament,\n      selectedTemperament: selectedTemperament,\n      setSelectedTemperament: setSelectedTemperament,\n      selectedCreated: selectedCreated,\n      setSelectedCreated: setSelectedCreated\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Order, {\n      setOrder: setOrder\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Cards, {\n      dogs: getPageDogs()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      currentPage: currentPage,\n      totalPages: totalPages,\n      onPageChange: handlePageChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n};\n_s(Home, \"UCoyhClsSJty2Axwe3xSeCfOOVA=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","Navbar","style","Cards","FilterByTemperaments","Pagination","useEffect","useState","useDispatch","useSelector","allBreed","addTemperaments","setCurrentPage","Order","jsxDEV","_jsxDEV","Home","_s","dispatch","temperament","state","allDogs","dog","selectedTemperament","setSelectedTemperament","selectedCreated","setSelectedCreated","setOrder","currentPage","dogsPerPage","totalPages","Math","ceil","length","filteredDogs","filter","_dog$temperament","filterByTemperament","includes","filterByCreated","createdInDB","handlePageChange","page","getPageDogs","startIndex","endIndex","console","log","slice","className","fondo","children","fileName","_jsxFileName","lineNumber","columnNumber","dogs","onPageChange","_c","$RefreshReg$"],"sources":["C:/Users/Usuario/Desktop/Workspace/PI-DOGS-DEPLOY/client/src/views/Home/Home.jsx"],"sourcesContent":["import React from \"react\";\r\nimport Navbar from \"../../components/Navbar/Navbar\"\r\nimport style from \"./Home.module.css\";\r\nimport Cards from \"../../components/Cards/Cards\";\r\nimport FilterByTemperaments from \"../../components/Filter/Filter\";\r\nimport Pagination from \"../../components/Pagination/Pagination\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { allBreed, addTemperaments, setCurrentPage } from \"../../redux/actions\";\r\nimport Order from \"../../components/Order/Order\";\r\n\r\n\r\nconst Home = () => {\r\n    const dispatch = useDispatch();\r\n    const temperament = useSelector((state) => state.temperament);\r\n    const allDogs = useSelector((state) => state.dog); // Obtener todos los perros sin filtrar\r\n    const [selectedTemperament, setSelectedTemperament] = useState(\"all\");\r\n    const [selectedCreated, setSelectedCreated] = useState(\"all\");\r\n    const [, setOrder] = useState(\"\");\r\n    // const [currentPage, setCurrentPage] = useState(1);\r\n    const currentPage = useSelector((state) => state.currentPage);\r\n    const dogsPerPage = 8;\r\n    const totalPages = Math.ceil(allDogs.length / dogsPerPage);\r\n    // const totalPages = allDogs.length > 0 ? Math.ceil(allDogs.length / dogsPerPage) : 1;      \r\n\r\n    useEffect(() => {\r\n        dispatch(allBreed());\r\n        dispatch(addTemperaments())\r\n    }, [dispatch])\r\n\r\n    // Filtrar los perros en función de los estados locales de temperamento y procedencia\r\n    const filteredDogs = allDogs.filter((dog) => {\r\n        const filterByTemperament = // variable booleana que almacena el resultado de la comparacion \r\n            selectedTemperament === \"all\" || //entre le temperamento seleccionado all o \r\n            dog.temperament?.includes(selectedTemperament); // si el temperamento del perro incluye el temperamento sleccionado si cualquiera de estas condiciones es verdadera filterByTemperament sera verdadero\r\n        const filterByCreated =\r\n            selectedCreated === \"all\" || // si se cumple esta condicion el filtro es exitoso\r\n            (selectedCreated === \"created\" && dog.createdInDB) || // verifica si el perro fue creado en la DB\r\n            (selectedCreated === \"api\" && !dog.createdInDB); // verifico si el perro viene de la API\r\n\r\n        return filterByTemperament && filterByCreated; // si el perro cumple con estas condiciones ser agregado el filterdDogs\r\n    });\r\n\r\n\r\n    const handlePageChange = (page) => {\r\n        dispatch(setCurrentPage(page));\r\n        setCurrentPage(1); // Reiniciar currentPage al hacer la búsqueda\r\n    };\r\n\r\n    const getPageDogs = () => {\r\n        const startIndex = (currentPage - 1) * dogsPerPage;\r\n        const endIndex = startIndex + dogsPerPage;\r\n        console.log(\"Start Index:\", startIndex);\r\n        console.log(\"End Index:\", endIndex);\r\n        return filteredDogs.slice(startIndex, endIndex);\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={style.fondo}>\r\n            <Navbar />\r\n            <h1>Home</h1>\r\n            <FilterByTemperaments\r\n                temperament={temperament}\r\n                selectedTemperament={selectedTemperament}\r\n                setSelectedTemperament={setSelectedTemperament}\r\n                selectedCreated={selectedCreated}\r\n                setSelectedCreated={setSelectedCreated} />\r\n            <Order setOrder={setOrder} />\r\n            <Cards dogs={getPageDogs()} />\r\n            <Pagination\r\n                currentPage={currentPage}\r\n                totalPages={totalPages}\r\n                onPageChange={handlePageChange}\r\n            />\r\n        </div>\r\n    )\r\n}\r\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module"}